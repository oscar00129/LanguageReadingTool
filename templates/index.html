<!DOCTYPE html>
<html>
<head>
    <title>Aplicaci√≥n de an√°lisis de texto en japon√©s</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div id="app">
        <h1>Aplicaci√≥n de an√°lisis de texto en japon√©s</h1>
        <form action="/app" method="post">
            <textarea id="textarea" name="text" rows="10" cols="50" v-model="defaultText"></textarea><br>
            <input v-on:click="sendRequest()" type="button" value="Procesar">
        </form>
        <div id="resultado">
            <span v-for="word in words" class="word-container" v-bind:class="{ 'new-line': word === '\n' }" :key="word">
                {{'{{word}}'}}
            </span>
        </div>
    </div>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const app = Vue.createApp({
            data() {
                return {
                    defaultText: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÁ¨¨1Ë©±„Å´ÊµÅ„Çå„ÅüOP„ÅÆÊõ≤Âêç„ÅØ‰ΩïÔºü",
                    words: ['„Åì„ÅÆ', '„Ç´„Éº„Éâ', '„ÅÆ', 'Á¨¨', '1', 'Ë©±', '„Å´', 'ÊµÅ„Çå', '„Åü', 'OP', '„ÅÆ', 'Êõ≤Âêç', '„ÅØ', '‰Ωï', 'Ôºü', '\n', '„Åä„ÅØ„Çà„ÅÜ', 'ÔºÅ', '\n', '‰ªäÊó•', '„ÅØ', 'Êú¨ÂΩì„ÅØ', '„Åô„ÅÜ', '„Å°„ÇÉ„Çì„Å®', '„Ç≥„É©„Éú', '„ÅÆ', '‰∫àÂÆö', '„Å†„Å£', '„Åü', '„Çì', '„Å†', '„Åë„Å©', '„ÄÅ', '„Åæ„Åü', 'Âà•', 'Êó•', '„Å´', '„Åï', '„Åõ', '„Å¶', '„ÅÑ„Åü„Å†„Åè', '„Åì„Å®', '„Å´', '„Å™„Çä', '„Åæ„Åó', '„Åü', 'ÔºÅ', '\n', 'Ê•Ω„Åó„Åø', '„Å´', '„Åó', '„Å¶', '„ÇÇ„Çâ„Åà„Çã', '„Å®', 'Â¨â„Åó„ÅÑ', 'ü•∫üíó', '\n', 'ÊòéÊó•', '„ÇÇ', 'ÈÖç‰ø°', '„Åä', '‰ºë„Åø', '„Åò', '„ÇÉ„Åë„Åá', 'üí°', '„Åì „ÅÆ', '„Ç¢„Éº„Ç´„Ç§„Éñ', '„Åß', 'Ê∞óÊåÅ„Å°ËâØ„Åè', '„Å™„Å£', '„Å¶', '„ÇÇ„Çç', '„Å¶', 'üíñ', '‚ú®', 'ËÅ¥„Åè', 'ÊôÇ', '„Å´', 'È´ò', 'Ë©ï‰æ°', ' „Éú„Çø„É≥', '„Çí', 'Êäº„Åó', '„Åü„Çä', '„Ç≥„É°„É≥„Éà', 'Êõ∏„ÅÑ', '„Åü„Çä', '„ÇÇ', '„Åü„Åè„Åï„Çì', '„Åó', '„Å¶', '„Åè„Çå„Çã', '„Å®', 'Â¨â„Åó„ÅÑ', '„Äú', 'üíïüíïüíï', '\n', 'Kerakyatan', 'yang', 'dipimpin', 'oleh', 'hikmat', 'kebijaksanaan', 'dalam', 'permusyawaratan', 'perwakilan', '.', '\n', 'Sekarang', 'apa', 'lambang', 'dari', 'sila', 'tersebut', '?', '\n', 'Ayo', 'jam', '20', '.', '00', 'WIB', '(', 'GMT', '+', '7', ')', 'aku', 'akan', 'live', 'karaoke', 'di', 'instagram', 'yang', 'baru', 'saja', 'aku', 'hack', 'üòé']
                }
            },
            methods: {
                sendRequest(){
                    const data = { 'text': this.defaultText };
                
                    fetch('/process', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    })
                    .then(response => response.json())
                    .then(result => {
                        result = result.data
                        //this.words = this.words.concat(result.words)
                        this.words = result.words
                    })
                    .catch(error => {
                        console.log("Error");
                        console.error(error);
                    });
                }
            }
          })
        
         app.mount('#app')
    </script>
</body>
</html>
